
{% extends "base.html" %}

{% block title %}Create New Post | Mystic Arcana{% endblock %}

{% block content %}
<main class="relative z-10 min-h-screen py-16">
  <div class="container mx-auto px-4">
    <div class="max-w-4xl mx-auto">
      <h1 class="text-4xl font-bold text-white mb-8 text-center">Create New Blog Post</h1>
      
      <div class="bg-gray-900 bg-opacity-70 rounded-xl overflow-hidden shadow-2xl">
        <div class="p-8">
          {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              {% for category, message in messages %}
                <div class="mb-4 p-4 rounded-lg {% if category == 'error' %}bg-red-900 bg-opacity-50 text-red-200{% else %}bg-green-900 bg-opacity-50 text-green-200{% endif %}">
                  {{ message }}
                </div>
              {% endfor %}
            {% endif %}
          {% endwith %}
          
          <form action="{{ url_for('blog.new_post') }}" method="POST">
            <div class="mb-6">
              <label class="block text-gray-400 mb-2" for="title">Title</label>
              <input type="text" id="title" name="title" required
                     class="w-full p-3 bg-gray-800 rounded-lg border border-gray-700 text-white focus:outline-none focus:border-purple-500">
            </div>
            
            <div class="mb-6">
              <label class="block text-gray-400 mb-2" for="category">Category</label>
              <select id="category" name="category" required
                      class="w-full p-3 bg-gray-800 rounded-lg border border-gray-700 text-white focus:outline-none focus:border-purple-500">
                <option value="">Select a category</option>
                <option value="Astrology">Astrology</option>
                <option value="Tarot & Oracle">Tarot & Oracle</option>
                <option value="Spiritual Wellness">Spiritual Wellness</option>
                <option value="Occult & Paranormal">Occult & Paranormal</option>
              </select>
            </div>
            
            <div class="mb-6">
              <label class="block text-gray-400 mb-2" for="content">Content</label>
              <textarea id="content" name="content" rows="12" required
                        class="w-full p-3 bg-gray-800 rounded-lg border border-gray-700 text-white focus:outline-none focus:border-purple-500"></textarea>
              <p class="text-xs text-gray-500 mt-1">You can use HTML for formatting (p, h3, strong, em, ul, li, etc.)</p>
            </div>
            
            <div class="flex justify-between">
              <a href="{{ url_for('blog.blog_home') }}" class="px-6 py-3 border border-gray-600 text-gray-400 rounded-lg hover:bg-gray-800 transition">
                Cancel
              </a>
              <button type="submit" class="px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition">
                Publish Post
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock %}
